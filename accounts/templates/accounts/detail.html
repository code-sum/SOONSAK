{% extends 'base.html' %}
{% load static %}
{% load django_bootstrap5 %}

{% block content %}
  {% comment %} <div class="row p-5">
    <div class="col-4 d-flex justify-content-center align-items-center">
      <div class="d-flex justify-content-center align-items-center border col-8 rounded-circle bg-white" style="width: 150px; height:150px; background-image:url({{ user.profile_image.url }}); background-repeat:no-repeat; background-position:center; background-size:contain"></div>
    </div>
    <div class="col-8">
      <div class="mb-3 d-flex justify-content-between">
        <div class="d-flex align-items-center">
          <h2 class="fw-light">{{ user.username }}</h2>
          <a href="#">
            <i class="bi bi-patch-check-fill mx-3 color-blue"></i>
          </a>
        </div>
        <div class="d-flex align-items-center">
          <input class="mx-3 btn border fw-bold" type="button" value="팔로우">
          <a class="btn border fw-bold" href="{% url 'reviews:create' %}">글 작성</a>
        </div>
      </div>
      <div class="d-flex justify-content-evenly">
        <div class="">
          <p class="fs-6">게시물<span class="ms-2 fw-bold">{{ request.user.review_set.count }}</span></p>
        </div>
        <div class="">
          <p class="fs-6">팔로워<span class="ms-2 fw-bold">0</span></p>
        </div>
        <div class="">
          <p class="fs-6">팔로잉<span class="ms-2 fw-bold">0</span></p>
        </div>
      </div>
    </div>
  </div>

  <div class="col-12 m-auto border-top">
    <div class="m-auto d-flex justify-content-center">
      <a class="mx-5 py-3 text-decoration-none text-black fw-bold border-top border-dark" href="#">게시물</a>
      <a class="mx-5 py-3 text-decoration-none text-black" href="#">릴스</a>
      <a class="mx-5 py-3 text-decoration-none text-black" href="#">태그됨</a>
    </div>
  </div>
  <div class="row">
    {% for review in reviews %}
      <div class="col-4 mb-4">
        <a href="{% url 'reviews:detail' review.pk %}">
          <div class="card border-0 shadow-sm">
            <img src="{{ review.review_image.url }}" class="card-img rounded-0" alt="image">
          </div>
        </a>
      </div>
    {% endfor %}
  </div> {% endcomment %}

  <div class="col-4 d-flex justify-content-center align-items-center">
    <ul>
      <li>{{ user.username }}</li>
      <li>{{ user.address }}</li>
      {% if user.profile_image %}
        <img src="{{ user.profile_image.url }}" alt="profile_image">
      {% endif %}
    </ul>
    <!-- -->
    {% if request.user == user %}
      <a href="{% url 'accounts:update' user.pk%}">회원정보 수정</a>
    {% endif %}
    <!-- -->

    {% if request.user != user %}
      <a href="{% url 'accounts:follow' user.pk %}" class="btn btn-light">
        {% if request.user in user.followings.all %}
          팔로우취소
        {% else %}
          팔로우
        {% endif %}
      </a>
    {% endif %}
    팔로워 :
    {{ user_followers }}

  </div>

{% endblock %}